(this["webpackJsonpto-do-ui"]=this["webpackJsonpto-do-ui"]||[]).push([[0],{26:function(e,t,n){e.exports=n(38)},31:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(11),i=n.n(c),r=(n(31),n(32),n(9)),l=n(5),s=n(51),u=n(23),d=n.n(u),h=n(52),f=n(22),p=n.n(f);function m(e){var t=o.a.useState(e.task.isComplete),n=Object(r.a)(t,2),a=n[0],c=n[1],i=o.a.useState(a?{textDecorationLine:"line-through"}:{}),u=Object(r.a)(i,2),f=u[0],m=u[1],E=o.a.useState(a),k=Object(r.a)(E,2),g=k[0],y=k[1],C=function(){a?(m({}),c(!1),y(!1)):(m({textDecorationLine:"line-through"}),c(!0),y(!0))};return o.a.createElement("div",null,o.a.createElement("div",{style:f},o.a.createElement(s.a,{checked:g,onChange:function(e){return y(e.target.checked)},color:"primary",onClick:function(){C(),fetch("".concat(l.uriBase).concat(l.currentApi,"/").concat(e.task._id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isComplete:!a})}).then((function(e){return e.ok||console.log("Did not patch"),e.json()})).then((function(t){c(t.isComplete),e.refresh()})).catch((function(e){console.log(e)}))}}),"".concat(new Date(e.task.date).toLocaleDateString()," | ").concat(e.task.text," "),o.a.createElement(h.a,{"aria-label":"edit",onClick:function(){e.setIsEdit(!0),e.setText(e.task.text),e.setEditId(e.task._id)}},o.a.createElement(p.a,{fontSize:"small"})),o.a.createElement(h.a,{"aria-label":"delete",onClick:function(){var t=e.task;fetch("".concat(l.uriBase).concat(l.currentApi,"/").concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Bad response");return e.json()})).then((function(t){e.refresh()})).then((function(e){C()})).catch((function(e){console.log(e)}))}},o.a.createElement(d.a,{fontSize:"small"}))))}function E(e){var t=function(t){e.setText(t.target.value),13===t.keyCode&&e.onClickAdd(t)};return o.a.createElement("div",{style:{backgroundColor:"lightblue",padding:"10px"}},e.isEdit?"Edit Task:":"New Task:",o.a.createElement("input",{style:{margin:"5px"},type:"text",onChange:t,value:e.text,onKeyUp:t}),e.isEdit?o.a.createElement("button",{onClick:e.onClickEdit},"Edit"):o.a.createElement("button",{onClick:e.onClickAdd},"Add"))}(new Date).toLocaleDateString(),(new Date).toLocaleDateString();var k={listStyleType:"none"};function g(){var e=o.a.useState([]),t=Object(r.a)(e,2),n=t[0],a=t[1],c=o.a.useState(""),i=Object(r.a)(c,2),s=i[0],u=i[1],d=o.a.useState(!1),h=Object(r.a)(d,2),f=h[0],p=h[1],g=o.a.useState(""),y=Object(r.a)(g,2),C=y[0],v=y[1],w=function(){fetch("".concat(l.uriBase).concat(l.currentApi),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Bad response");return e.json()})).then((function(e){a(e)})).catch((function(e){console.log(e)}))};return o.a.useEffect((function(){w()}),[]),o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("ul",{style:{textAlign:"left"}},n.map((function(e,t){return o.a.createElement("li",{style:k,key:t},o.a.createElement(m,{task:e,refresh:w,setIsEdit:p,setText:u,setEditId:v}))})))),o.a.createElement("div",null,o.a.createElement(E,{text:s,setText:u,onClickAdd:function(e){if(""===s)return alert("Task cannot be empty");var t={date:new Date,text:s,isComplete:!1};fetch("".concat(l.uriBase).concat(l.currentApi),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Bad response");return e.json()})).then((function(e){w()})).catch((function(e){console.log(e)})),u("")},refresh:w,isEdit:f,setIsEdit:p,onClickEdit:function(){p(!1),""!==C?fetch("".concat(l.uriBase).concat(l.currentApi,"/").concat(C),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s})}).then((function(e){if(!e.ok)throw new Error("Could not update with edit");return e})).then((function(e){w(),u("")})).catch((function(e){console.log(e)})):alert("Cannot Edit")}})))}function y(){return o.a.createElement("div",{style:{backgroundColor:"lightblue",padding:"10px"}},o.a.createElement("h1",null,"Task Manager"))}var C=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null),o.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t){e.exports.uriBase="https://sn-todo.herokuapp.com",e.exports.currentApi="/tasks"}},[[26,1,2]]]);
//# sourceMappingURL=main.f45806b6.chunk.js.map