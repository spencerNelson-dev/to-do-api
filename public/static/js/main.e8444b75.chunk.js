(this["webpackJsonpto-do-ui"]=this["webpackJsonpto-do-ui"]||[]).push([[0],{24:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(11),r=n.n(c),i=(n(29),n(30),n(10)),l=n(8),s=n(51),u=n(21),h=n.n(u),d=n(52);function f(e){var t=o.a.useState(e.task.isComplete),n=Object(i.a)(t,2),a=n[0],c=n[1],r=o.a.useState(a?{textDecorationLine:"line-through"}:{}),u=Object(i.a)(r,2),f=u[0],p=u[1],m=o.a.useState(a),E=Object(i.a)(m,2),g=E[0],k=E[1],y=function(){a?(p({}),c(!1),k(!1)):(p({textDecorationLine:"line-through"}),c(!0),k(!0))};return o.a.createElement("div",null,o.a.createElement("div",{style:f},o.a.createElement(s.a,{checked:g,onChange:function(e){return k(e.target.checked)},color:"primary",onClick:function(){y(),fetch("".concat(l.uriBase).concat(l.currentApi,"/").concat(e.task._id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isComplete:!a})}).then((function(e){return e.ok||console.log("Did not patch"),e.json()})).then((function(t){c(t.isComplete),e.refresh()})).catch((function(e){console.log(e)}))}}),"".concat(new Date(e.task.date).toLocaleDateString()," | ").concat(e.task.text," "),o.a.createElement(d.a,{"aria-label":"delete",onClick:function(){var t=e.task;fetch("".concat(l.uriBase).concat(l.currentApi,"/").concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Bad response");return e.json()})).then((function(t){e.refresh()})).then((function(e){y()})).catch((function(e){console.log(e)}))}},o.a.createElement(h.a,{fontSize:"small"}))))}function p(e){var t;t=e.isEdit?"Edit":"Add";return o.a.createElement("div",{style:{backgroundColor:"lightblue",padding:"10px"}},"New Task:",o.a.createElement("input",{style:{margin:"5px"},type:"text",onChange:function(t){e.setText(t.target.value)},value:e.text}),o.a.createElement("button",{onClick:e.onClickAdd},t))}(new Date).toLocaleDateString(),(new Date).toLocaleDateString();var m={listStyleType:"none"};function E(){var e=o.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=o.a.useState(""),r=Object(i.a)(c,2),s=r[0],u=r[1],h=function(){fetch("".concat(l.uriBase).concat(l.currentApi),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Bad response");return e.json()})).then((function(e){a(e)})).catch((function(e){console.log(e)}))};return o.a.useEffect((function(){h()}),[]),o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("ul",{style:{textAlign:"left"}},n.map((function(e,t){return o.a.createElement("li",{style:m,key:t},o.a.createElement(f,{task:e,refresh:h}))})))),o.a.createElement("div",null,o.a.createElement(p,{text:s,setText:u,onClickAdd:function(e){if(""===s)return alert("Task cannot be empty");var t={date:new Date,text:s,isComplete:!1};fetch("".concat(l.uriBase).concat(l.currentApi),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Bad response");return e.json()})).then((function(e){h()})).catch((function(e){console.log(e)})),u("")},refresh:h})))}function g(){return o.a.createElement("div",{style:{backgroundColor:"lightblue",padding:"10px"}},o.a.createElement("h1",null,"Task Manager"))}var k=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,null),o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t){e.exports.uriBase="https://sn-todo.herokuapp.com",e.exports.currentApi="/tasks"}},[[24,1,2]]]);
//# sourceMappingURL=main.e8444b75.chunk.js.map